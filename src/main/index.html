<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">

    <title>Darkroom Editor</title>

    <link rel="stylesheet" href="theme.css">
    <link rel="stylesheet" href="window.css">
    <link rel="stylesheet" href="widgetui/widgets.css">
    <link rel="stylesheet" href="widgetui/tippy/tippy.css">
    <link rel="stylesheet" href="widgetui/tippy_custom.css">

    <meta http-equiv="Content-Security-Policy" content="script-src 'self' 'unsafe-inline';" />

  </head>
  <body>

    <div class="page-content">
      <div class="preview" id="preview-pane">
        <div class="toolbar toolbartop line bottom" id="toolbar">
          <section class="left">
            <button class="toolbarbutton buttonimg" type="button" id="btn-save" onclick="saveProject()">Save <img src="icon/save.svg"></button>
          </section>
          <section class="mid">
            <span class="text" id="filename-tag">...</span>
          </section>
          <section class="right">
            <button class="toolbarbutton buttonimg" type="button" id="btn-export" onclick="exportProject()">Export <img src="icon/export.svg"></button>
            <button class="toolbarbutton" type="button" id="btn-compare">Compare</button>
          </section>
        </div>
        <canvas id="preview_canvas"></canvas>
        <div class="toolbar toolbarbottom line top" id="contextual-toolbar">
          <div class="context hidden" id="context-view">
            <div class="vcenter">
              <h4>View</h4>
            </div>
            <div class="divider"></div>
            <button type="button" id="btn-view-reset" class="blockb" >Reset</button>
            <button type="button" id="btn-view-1"     class="blockb" >1:1</button>
            <button type="button" id="btn-view-2"     class="blockb" >2:1</button>
            <button type="button" id="btn-view-3"     class="blockb" >4:1</button>
          </div>
          <div class="context hidden" id="context-editmask">
            <div class="ftop">
              <h4>Mask</h4>
              <button type="button" id="btn-maskedit-exit" class="inlineb spacetop">Exit [esc]</button>
            </div>
            <div class="divider"></div>
            <div class="ftop">
              <table>

                <tr>
                  <td>Size:</td>
                  <td>
                    <input class="slider" type="range" oninput="maskEditorInput('slider-size')" id="range-editmask-brushsize" step="1" value="0" min="1" max="1024">
                    <input class="num" type="number" value="0" onchange="maskEditorInput('number-size')" step="1" id="number-editmask-brushsize">
                  </td>
                </tr>

                <tr>
                  <td>Hardness:</td>
                  <td>
                    <input class="slider" type="range" oninput="maskEditorInput('slider-hardness')" id="range-editmask-hardness" step="1" value="0" min="1" max="100">
                    <input class="num" type="number" value="0" onchange="maskEditorInput('number-hardness')" step="1" id="number-editmask-hardness">
                  </td>
                </tr>

                <tr>
                  <td>Opacity:</td>
                  <td>
                    <input class="slider" type="range" oninput="maskEditorInput('slider-opacity')" id="range-editmask-opacity" step="1" value="0" min="0" max="100">
                    <input class="num" type="number" value="0" onchange="maskEditorInput('number-opacity')" step="1" id="number-editmask-opacity">
                  </td>
                </tr>

              </table>
            </div>
            <div class="divider"></div>
            <div class="vcenter">
              <span><input type="radio" id="radio-editmask-value" value="subtract" name="value" checked><label for="subtract">Subtract</label><br></span>
              <span><input type="radio" name="value" value="add"><label for="add">Add</label><br></span>
            </div>
            <div class="divider"></div>
            <div class="vcenter">
              <button type="button" class="mid" id="btn-show-mask">Show mask</button>
            </div>
          </div>
        </div>
      </div>
      <!-- <div class="optionsToolBarContainer">
        <div class="toolbar optionstoolbar line bottom">
          <section class="left">
          </section>
          <section class="mid">
          </section>
          <section class="right">
          </section>
        </div>
      </div> -->
      <div class="options line left" id="options-pane">
        <!-- <div class="line bottom imgdata">
        </div> -->
      </div>
    </div>

    <div class="osx_windowtitle line bottom">
      <span>Darkroom Editor</span>
    </div>


    <script type="text/javascript" src="glmatrix.js"></script>
    <script type="text/javascript" src="canvasTiff.js"></script>

    <script type="text/javascript" src="webgl.js"></script>
    <script type="text/javascript" src="masks.js"></script>
    <script type="text/javascript" src="image.js"></script>
    <script type="text/javascript" src="model.js"></script>
    <script type="text/javascript" src="tiff/gldata.js"></script>
    <script type="text/javascript" src="framebuffer.js"></script>
    <script type="text/javascript" src="shaders.js"></script>

    <script type="text/javascript" src="widgetui/main.js"></script>
    <script type="text/javascript" src="widgetui/curves.js"></script>
    <script type="text/javascript" src="widgetui/trislider.js"></script>
    <script type="text/javascript" src="cspl.js"></script>

    <script type="text/javascript" src="widget.js"></script>
    <script type="text/javascript" src="widgets/load.js"></script>

    <script type="text/javascript" src="gaussian.js"></script>

    <script type="text/javascript" src="save.js"></script>
    <script type="text/javascript" src="render.js"></script>
    <script type="text/javascript" src="state.js"></script>
    <script type="text/javascript" src="maskeditor.js"></script>
    <script type="text/javascript" src="contextual.js"></script>
    <script type="text/javascript" src="shortcuts.js"></script>
    <script type="text/javascript" src="history.js"></script>
    <script type="text/javascript" src="window.js"></script>
  </body>
</html>
